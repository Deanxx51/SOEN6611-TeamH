<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ProfilesXpp3Reader.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Maven Compat</a> &gt; <a href="index.source.html" class="el_package">org.apache.maven.profiles.io.xpp3</a> &gt; <span class="el_source">ProfilesXpp3Reader.java</span></div><h1>ProfilesXpp3Reader.java</h1><pre class="source lang-java linenums">// =================== DO NOT EDIT THIS FILE ====================
// Generated by Modello 1.10.0,
// any modifications will be overwritten.
// ==============================================================

package org.apache.maven.profiles.io.xpp3;

  //---------------------------------/
 //- Imported classes and packages -/
//---------------------------------/

import java.io.IOException;
import java.io.InputStream;
import java.io.Reader;
import java.text.DateFormat;
import org.apache.maven.profiles.Activation;
import org.apache.maven.profiles.ActivationFile;
import org.apache.maven.profiles.ActivationOS;
import org.apache.maven.profiles.ActivationProperty;
import org.apache.maven.profiles.Profile;
import org.apache.maven.profiles.ProfilesRoot;
import org.apache.maven.profiles.Repository;
import org.apache.maven.profiles.RepositoryBase;
import org.apache.maven.profiles.RepositoryPolicy;
import org.codehaus.plexus.util.ReaderFactory;
import org.codehaus.plexus.util.xml.pull.EntityReplacementMap;
import org.codehaus.plexus.util.xml.pull.MXParser;
import org.codehaus.plexus.util.xml.pull.XmlPullParser;
import org.codehaus.plexus.util.xml.pull.XmlPullParserException;

/**
 * Class ProfilesXpp3Reader.
 * 
 * @version $Revision$ $Date$
 */
@SuppressWarnings( &quot;all&quot; )
public class ProfilesXpp3Reader
{

      //--------------------------/
     //- Class/Member Variables -/
    //--------------------------/

    /**
     * If set the parser will be loaded with all single characters
     * from the XHTML specification.
     * The entities used:
     * &lt;ul&gt;
     * &lt;li&gt;http://www.w3.org/TR/xhtml1/DTD/xhtml-lat1.ent&lt;/li&gt;
     * &lt;li&gt;http://www.w3.org/TR/xhtml1/DTD/xhtml-special.ent&lt;/li&gt;
     * &lt;li&gt;http://www.w3.org/TR/xhtml1/DTD/xhtml-symbol.ent&lt;/li&gt;
     * &lt;/ul&gt;
     */
<span class="nc" id="L54">    private boolean addDefaultEntities = true;</span>

    /**
     * Field contentTransformer.
     */
    public final ContentTransformer contentTransformer;


      //----------------/
     //- Constructors -/
    //----------------/

    public ProfilesXpp3Reader()
    {
<span class="nc" id="L68">        this( new ContentTransformer()</span>
<span class="nc" id="L69">        {</span>
            public String transform( String source, String fieldName )
            {
<span class="nc" id="L72">                return source;</span>
            }
        } );
<span class="nc" id="L75">    } //-- org.apache.maven.profiles.io.xpp3.ProfilesXpp3Reader()</span>

    public ProfilesXpp3Reader(ContentTransformer contentTransformer)
<span class="nc" id="L78">    {</span>
<span class="nc" id="L79">        this.contentTransformer = contentTransformer;</span>
<span class="nc" id="L80">    } //-- org.apache.maven.profiles.io.xpp3.ProfilesXpp3Reader(ContentTransformer)</span>


      //-----------/
     //- Methods -/
    //-----------/

    /**
     * Method checkFieldWithDuplicate.
     * 
     * @param parser
     * @param parsed
     * @param alias
     * @param tagName
     * @throws XmlPullParserException
     * @return boolean
     */
    private boolean checkFieldWithDuplicate( XmlPullParser parser, String tagName, String alias, java.util.Set parsed )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L100" title="All 4 branches missed.">        if ( !( parser.getName().equals( tagName ) || parser.getName().equals( alias ) ) )</span>
        {
<span class="nc" id="L102">            return false;</span>
        }
<span class="nc bnc" id="L104" title="All 2 branches missed.">        if ( !parsed.add( tagName ) )</span>
        {
<span class="nc" id="L106">            throw new XmlPullParserException( &quot;Duplicated tag: '&quot; + tagName + &quot;'&quot;, parser, null );</span>
        }
<span class="nc" id="L108">        return true;</span>
    } //-- boolean checkFieldWithDuplicate( XmlPullParser, String, String, java.util.Set )

    /**
     * Method checkUnknownAttribute.
     * 
     * @param parser
     * @param strict
     * @param tagName
     * @param attribute
     * @throws XmlPullParserException
     * @throws IOException
     */
    private void checkUnknownAttribute( XmlPullParser parser, String attribute, String tagName, boolean strict )
        throws XmlPullParserException, IOException
    {
        // strictXmlAttributes = true for model: if strict == true, not only elements are checked but attributes too
<span class="nc bnc" id="L125" title="All 2 branches missed.">        if ( strict )</span>
        {
<span class="nc" id="L127">            throw new XmlPullParserException( &quot;Unknown attribute '&quot; + attribute + &quot;' for tag '&quot; + tagName + &quot;'&quot;, parser, null );</span>
        }
<span class="nc" id="L129">    } //-- void checkUnknownAttribute( XmlPullParser, String, String, boolean )</span>

    /**
     * Method checkUnknownElement.
     * 
     * @param parser
     * @param strict
     * @throws XmlPullParserException
     * @throws IOException
     */
    private void checkUnknownElement( XmlPullParser parser, boolean strict )
        throws XmlPullParserException, IOException
    {
<span class="nc bnc" id="L142" title="All 2 branches missed.">        if ( strict )</span>
        {
<span class="nc" id="L144">            throw new XmlPullParserException( &quot;Unrecognised tag: '&quot; + parser.getName() + &quot;'&quot;, parser, null );</span>
        }

<span class="nc bnc" id="L147" title="All 2 branches missed.">        for ( int unrecognizedTagCount = 1; unrecognizedTagCount &gt; 0; )</span>
        {
<span class="nc" id="L149">            int eventType = parser.next();</span>
<span class="nc bnc" id="L150" title="All 2 branches missed.">            if ( eventType == XmlPullParser.START_TAG )</span>
            {
<span class="nc" id="L152">                unrecognizedTagCount++;</span>
            }
<span class="nc bnc" id="L154" title="All 2 branches missed.">            else if ( eventType == XmlPullParser.END_TAG )</span>
            {
<span class="nc" id="L156">                unrecognizedTagCount--;</span>
            }
<span class="nc" id="L158">        }</span>
<span class="nc" id="L159">    } //-- void checkUnknownElement( XmlPullParser, boolean )</span>

    /**
     * Returns the state of the &quot;add default entities&quot; flag.
     * 
     * @return boolean
     */
    public boolean getAddDefaultEntities()
    {
<span class="nc" id="L168">        return addDefaultEntities;</span>
    } //-- boolean getAddDefaultEntities()

    /**
     * Method getBooleanValue.
     * 
     * @param s
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return boolean
     */
    private boolean getBooleanValue( String s, String attribute, XmlPullParser parser )
        throws XmlPullParserException
    {
<span class="nc" id="L183">        return getBooleanValue( s, attribute, parser, null );</span>
    } //-- boolean getBooleanValue( String, String, XmlPullParser )

    /**
     * Method getBooleanValue.
     * 
     * @param s
     * @param defaultValue
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return boolean
     */
    private boolean getBooleanValue( String s, String attribute, XmlPullParser parser, String defaultValue )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L199" title="All 4 branches missed.">        if ( s != null &amp;&amp; s.length() != 0 )</span>
        {
<span class="nc" id="L201">            return Boolean.valueOf( s ).booleanValue();</span>
        }
<span class="nc bnc" id="L203" title="All 2 branches missed.">        if ( defaultValue != null )</span>
        {
<span class="nc" id="L205">            return Boolean.valueOf( defaultValue ).booleanValue();</span>
        }
<span class="nc" id="L207">        return false;</span>
    } //-- boolean getBooleanValue( String, String, XmlPullParser, String )

    /**
     * Method getByteValue.
     * 
     * @param s
     * @param strict
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return byte
     */
    private byte getByteValue( String s, String attribute, XmlPullParser parser, boolean strict )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L223" title="All 2 branches missed.">        if ( s != null )</span>
        {
            try
            {
<span class="nc" id="L227">                return Byte.valueOf( s ).byteValue();</span>
            }
<span class="nc" id="L229">            catch ( NumberFormatException nfe )</span>
            {
<span class="nc bnc" id="L231" title="All 2 branches missed.">                if ( strict )</span>
                {
<span class="nc" id="L233">                    throw new XmlPullParserException( &quot;Unable to parse element '&quot; + attribute + &quot;', must be a byte&quot;, parser, nfe );</span>
                }
            }
        }
<span class="nc" id="L237">        return 0;</span>
    } //-- byte getByteValue( String, String, XmlPullParser, boolean )

    /**
     * Method getCharacterValue.
     * 
     * @param s
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return char
     */
    private char getCharacterValue( String s, String attribute, XmlPullParser parser )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L252" title="All 2 branches missed.">        if ( s != null )</span>
        {
<span class="nc" id="L254">            return s.charAt( 0 );</span>
        }
<span class="nc" id="L256">        return 0;</span>
    } //-- char getCharacterValue( String, String, XmlPullParser )

    /**
     * Method getDateValue.
     * 
     * @param s
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return Date
     */
    private java.util.Date getDateValue( String s, String attribute, XmlPullParser parser )
        throws XmlPullParserException
    {
<span class="nc" id="L271">        return getDateValue( s, attribute, null, parser );</span>
    } //-- java.util.Date getDateValue( String, String, XmlPullParser )

    /**
     * Method getDateValue.
     * 
     * @param s
     * @param parser
     * @param dateFormat
     * @param attribute
     * @throws XmlPullParserException
     * @return Date
     */
    private java.util.Date getDateValue( String s, String attribute, String dateFormat, XmlPullParser parser )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L287" title="All 2 branches missed.">        if ( s != null )</span>
        {
<span class="nc" id="L289">            String effectiveDateFormat = dateFormat;</span>
<span class="nc bnc" id="L290" title="All 2 branches missed.">            if ( dateFormat == null )</span>
            {
<span class="nc" id="L292">                effectiveDateFormat = &quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;;</span>
            }
<span class="nc bnc" id="L294" title="All 2 branches missed.">            if ( &quot;long&quot;.equals( effectiveDateFormat ) )</span>
            {
                try
                {
<span class="nc" id="L298">                    return new java.util.Date( Long.parseLong( s ) );</span>
                }
<span class="nc" id="L300">                catch ( NumberFormatException e )</span>
                {
<span class="nc" id="L302">                    throw new XmlPullParserException( e.getMessage(), parser, e );</span>
                }
            }
            else
            {
                try
                {
<span class="nc" id="L309">                    DateFormat dateParser = new java.text.SimpleDateFormat( effectiveDateFormat, java.util.Locale.US );</span>
<span class="nc" id="L310">                    return dateParser.parse( s );</span>
                }
<span class="nc" id="L312">                catch ( java.text.ParseException e )</span>
                {
<span class="nc" id="L314">                    throw new XmlPullParserException( e.getMessage(), parser, e );</span>
                }
            }
        }
<span class="nc" id="L318">        return null;</span>
    } //-- java.util.Date getDateValue( String, String, String, XmlPullParser )

    /**
     * Method getDoubleValue.
     * 
     * @param s
     * @param strict
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return double
     */
    private double getDoubleValue( String s, String attribute, XmlPullParser parser, boolean strict )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L334" title="All 2 branches missed.">        if ( s != null )</span>
        {
            try
            {
<span class="nc" id="L338">                return Double.valueOf( s ).doubleValue();</span>
            }
<span class="nc" id="L340">            catch ( NumberFormatException nfe )</span>
            {
<span class="nc bnc" id="L342" title="All 2 branches missed.">                if ( strict )</span>
                {
<span class="nc" id="L344">                    throw new XmlPullParserException( &quot;Unable to parse element '&quot; + attribute + &quot;', must be a floating point number&quot;, parser, nfe );</span>
                }
            }
        }
<span class="nc" id="L348">        return 0;</span>
    } //-- double getDoubleValue( String, String, XmlPullParser, boolean )

    /**
     * Method getFloatValue.
     * 
     * @param s
     * @param strict
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return float
     */
    private float getFloatValue( String s, String attribute, XmlPullParser parser, boolean strict )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L364" title="All 2 branches missed.">        if ( s != null )</span>
        {
            try
            {
<span class="nc" id="L368">                return Float.valueOf( s ).floatValue();</span>
            }
<span class="nc" id="L370">            catch ( NumberFormatException nfe )</span>
            {
<span class="nc bnc" id="L372" title="All 2 branches missed.">                if ( strict )</span>
                {
<span class="nc" id="L374">                    throw new XmlPullParserException( &quot;Unable to parse element '&quot; + attribute + &quot;', must be a floating point number&quot;, parser, nfe );</span>
                }
            }
        }
<span class="nc" id="L378">        return 0;</span>
    } //-- float getFloatValue( String, String, XmlPullParser, boolean )

    /**
     * Method getIntegerValue.
     * 
     * @param s
     * @param strict
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return int
     */
    private int getIntegerValue( String s, String attribute, XmlPullParser parser, boolean strict )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L394" title="All 2 branches missed.">        if ( s != null )</span>
        {
            try
            {
<span class="nc" id="L398">                return Integer.valueOf( s ).intValue();</span>
            }
<span class="nc" id="L400">            catch ( NumberFormatException nfe )</span>
            {
<span class="nc bnc" id="L402" title="All 2 branches missed.">                if ( strict )</span>
                {
<span class="nc" id="L404">                    throw new XmlPullParserException( &quot;Unable to parse element '&quot; + attribute + &quot;', must be an integer&quot;, parser, nfe );</span>
                }
            }
        }
<span class="nc" id="L408">        return 0;</span>
    } //-- int getIntegerValue( String, String, XmlPullParser, boolean )

    /**
     * Method getLongValue.
     * 
     * @param s
     * @param strict
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return long
     */
    private long getLongValue( String s, String attribute, XmlPullParser parser, boolean strict )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L424" title="All 2 branches missed.">        if ( s != null )</span>
        {
            try
            {
<span class="nc" id="L428">                return Long.valueOf( s ).longValue();</span>
            }
<span class="nc" id="L430">            catch ( NumberFormatException nfe )</span>
            {
<span class="nc bnc" id="L432" title="All 2 branches missed.">                if ( strict )</span>
                {
<span class="nc" id="L434">                    throw new XmlPullParserException( &quot;Unable to parse element '&quot; + attribute + &quot;', must be a long integer&quot;, parser, nfe );</span>
                }
            }
        }
<span class="nc" id="L438">        return 0;</span>
    } //-- long getLongValue( String, String, XmlPullParser, boolean )

    /**
     * Method getRequiredAttributeValue.
     * 
     * @param s
     * @param strict
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return String
     */
    private String getRequiredAttributeValue( String s, String attribute, XmlPullParser parser, boolean strict )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L454" title="All 2 branches missed.">        if ( s == null )</span>
        {
<span class="nc bnc" id="L456" title="All 2 branches missed.">            if ( strict )</span>
            {
<span class="nc" id="L458">                throw new XmlPullParserException( &quot;Missing required value for attribute '&quot; + attribute + &quot;'&quot;, parser, null );</span>
            }
        }
<span class="nc" id="L461">        return s;</span>
    } //-- String getRequiredAttributeValue( String, String, XmlPullParser, boolean )

    /**
     * Method getShortValue.
     * 
     * @param s
     * @param strict
     * @param parser
     * @param attribute
     * @throws XmlPullParserException
     * @return short
     */
    private short getShortValue( String s, String attribute, XmlPullParser parser, boolean strict )
        throws XmlPullParserException
    {
<span class="nc bnc" id="L477" title="All 2 branches missed.">        if ( s != null )</span>
        {
            try
            {
<span class="nc" id="L481">                return Short.valueOf( s ).shortValue();</span>
            }
<span class="nc" id="L483">            catch ( NumberFormatException nfe )</span>
            {
<span class="nc bnc" id="L485" title="All 2 branches missed.">                if ( strict )</span>
                {
<span class="nc" id="L487">                    throw new XmlPullParserException( &quot;Unable to parse element '&quot; + attribute + &quot;', must be a short integer&quot;, parser, nfe );</span>
                }
            }
        }
<span class="nc" id="L491">        return 0;</span>
    } //-- short getShortValue( String, String, XmlPullParser, boolean )

    /**
     * Method getTrimmedValue.
     * 
     * @param s
     * @return String
     */
    private String getTrimmedValue( String s )
    {
<span class="nc bnc" id="L502" title="All 2 branches missed.">        if ( s != null )</span>
        {
<span class="nc" id="L504">            s = s.trim();</span>
        }
<span class="nc" id="L506">        return s;</span>
    } //-- String getTrimmedValue( String )

    /**
     * Method interpolatedTrimmed.
     * 
     * @param value
     * @param context
     * @return String
     */
    private String interpolatedTrimmed( String value, String context )
    {
<span class="nc" id="L518">        return getTrimmedValue( contentTransformer.transform( value, context ) );</span>
    } //-- String interpolatedTrimmed( String, String )

    /**
     * Method nextTag.
     * 
     * @param parser
     * @throws IOException
     * @throws XmlPullParserException
     * @return int
     */
    private int nextTag( XmlPullParser parser )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L532">        int eventType = parser.next();</span>
<span class="nc bnc" id="L533" title="All 2 branches missed.">        if ( eventType == XmlPullParser.TEXT )</span>
        {
<span class="nc" id="L535">            eventType = parser.next();</span>
        }
<span class="nc bnc" id="L537" title="All 4 branches missed.">        if ( eventType != XmlPullParser.START_TAG &amp;&amp; eventType != XmlPullParser.END_TAG )</span>
        {
<span class="nc" id="L539">            throw new XmlPullParserException( &quot;expected START_TAG or END_TAG not &quot; + XmlPullParser.TYPES[eventType], parser, null );</span>
        }
<span class="nc" id="L541">        return eventType;</span>
    } //-- int nextTag( XmlPullParser )

    /**
     * @see ReaderFactory#newXmlReader
     * 
     * @param reader
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return ProfilesRoot
     */
    public ProfilesRoot read( Reader reader, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc bnc" id="L556" title="All 2 branches missed.">        XmlPullParser parser = addDefaultEntities ? new MXParser(EntityReplacementMap.defaultEntityReplacementMap) : new MXParser( );</span>

<span class="nc" id="L558">        parser.setInput( reader );</span>


<span class="nc" id="L561">        return read( parser, strict );</span>
    } //-- ProfilesRoot read( Reader, boolean )

    /**
     * @see ReaderFactory#newXmlReader
     * 
     * @param reader
     * @throws IOException
     * @throws XmlPullParserException
     * @return ProfilesRoot
     */
    public ProfilesRoot read( Reader reader )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L575">        return read( reader, true );</span>
    } //-- ProfilesRoot read( Reader )

    /**
     * Method read.
     * 
     * @param in
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return ProfilesRoot
     */
    public ProfilesRoot read( InputStream in, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L590">        return read( ReaderFactory.newXmlReader( in ), strict );</span>
    } //-- ProfilesRoot read( InputStream, boolean )

    /**
     * Method read.
     * 
     * @param in
     * @throws IOException
     * @throws XmlPullParserException
     * @return ProfilesRoot
     */
    public ProfilesRoot read( InputStream in )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L604">        return read( ReaderFactory.newXmlReader( in ) );</span>
    } //-- ProfilesRoot read( InputStream )

    /**
     * Method parseActivation.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return Activation
     */
    private Activation parseActivation( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L619">        String tagName = parser.getName();</span>
<span class="nc" id="L620">        Activation activation = new Activation();</span>
<span class="nc bnc" id="L621" title="All 2 branches missed.">        for ( int i = parser.getAttributeCount() - 1; i &gt;= 0; i-- )</span>
        {
<span class="nc" id="L623">            String name = parser.getAttributeName( i );</span>
<span class="nc" id="L624">            String value = parser.getAttributeValue( i );</span>

<span class="nc bnc" id="L626" title="All 2 branches missed.">            if ( name.indexOf( ':' ) &gt;= 0 )</span>
            {
                // just ignore attributes with non-default namespace (for example: xmlns:xsi)
            }
            else
            {
<span class="nc" id="L632">                checkUnknownAttribute( parser, name, tagName, strict );</span>
            }
        }
<span class="nc" id="L635">        java.util.Set parsed = new java.util.HashSet();</span>
<span class="nc bnc" id="L636" title="All 4 branches missed.">        while ( ( strict ? parser.nextTag() : nextTag( parser ) ) == XmlPullParser.START_TAG )</span>
        {
<span class="nc bnc" id="L638" title="All 2 branches missed.">            if ( checkFieldWithDuplicate( parser, &quot;activeByDefault&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L640">                activation.setActiveByDefault( getBooleanValue( interpolatedTrimmed( parser.nextText(), &quot;activeByDefault&quot; ), &quot;activeByDefault&quot;, parser, &quot;false&quot; ) );</span>
            }
<span class="nc bnc" id="L642" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;jdk&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L644">                activation.setJdk( interpolatedTrimmed( parser.nextText(), &quot;jdk&quot; ) );</span>
            }
<span class="nc bnc" id="L646" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;os&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L648">                activation.setOs( parseActivationOS( parser, strict ) );</span>
            }
<span class="nc bnc" id="L650" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;property&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L652">                activation.setProperty( parseActivationProperty( parser, strict ) );</span>
            }
<span class="nc bnc" id="L654" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;file&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L656">                activation.setFile( parseActivationFile( parser, strict ) );</span>
            }
            else
            {
<span class="nc" id="L660">                checkUnknownElement( parser, strict );</span>
            }
        }
<span class="nc" id="L663">        return activation;</span>
    } //-- Activation parseActivation( XmlPullParser, boolean )

    /**
     * Method parseActivationFile.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return ActivationFile
     */
    private ActivationFile parseActivationFile( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L678">        String tagName = parser.getName();</span>
<span class="nc" id="L679">        ActivationFile activationFile = new ActivationFile();</span>
<span class="nc bnc" id="L680" title="All 2 branches missed.">        for ( int i = parser.getAttributeCount() - 1; i &gt;= 0; i-- )</span>
        {
<span class="nc" id="L682">            String name = parser.getAttributeName( i );</span>
<span class="nc" id="L683">            String value = parser.getAttributeValue( i );</span>

<span class="nc bnc" id="L685" title="All 2 branches missed.">            if ( name.indexOf( ':' ) &gt;= 0 )</span>
            {
                // just ignore attributes with non-default namespace (for example: xmlns:xsi)
            }
            else
            {
<span class="nc" id="L691">                checkUnknownAttribute( parser, name, tagName, strict );</span>
            }
        }
<span class="nc" id="L694">        java.util.Set parsed = new java.util.HashSet();</span>
<span class="nc bnc" id="L695" title="All 4 branches missed.">        while ( ( strict ? parser.nextTag() : nextTag( parser ) ) == XmlPullParser.START_TAG )</span>
        {
<span class="nc bnc" id="L697" title="All 2 branches missed.">            if ( checkFieldWithDuplicate( parser, &quot;missing&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L699">                activationFile.setMissing( interpolatedTrimmed( parser.nextText(), &quot;missing&quot; ) );</span>
            }
<span class="nc bnc" id="L701" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;exists&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L703">                activationFile.setExists( interpolatedTrimmed( parser.nextText(), &quot;exists&quot; ) );</span>
            }
            else
            {
<span class="nc" id="L707">                checkUnknownElement( parser, strict );</span>
            }
        }
<span class="nc" id="L710">        return activationFile;</span>
    } //-- ActivationFile parseActivationFile( XmlPullParser, boolean )

    /**
     * Method parseActivationOS.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return ActivationOS
     */
    private ActivationOS parseActivationOS( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L725">        String tagName = parser.getName();</span>
<span class="nc" id="L726">        ActivationOS activationOS = new ActivationOS();</span>
<span class="nc bnc" id="L727" title="All 2 branches missed.">        for ( int i = parser.getAttributeCount() - 1; i &gt;= 0; i-- )</span>
        {
<span class="nc" id="L729">            String name = parser.getAttributeName( i );</span>
<span class="nc" id="L730">            String value = parser.getAttributeValue( i );</span>

<span class="nc bnc" id="L732" title="All 2 branches missed.">            if ( name.indexOf( ':' ) &gt;= 0 )</span>
            {
                // just ignore attributes with non-default namespace (for example: xmlns:xsi)
            }
            else
            {
<span class="nc" id="L738">                checkUnknownAttribute( parser, name, tagName, strict );</span>
            }
        }
<span class="nc" id="L741">        java.util.Set parsed = new java.util.HashSet();</span>
<span class="nc bnc" id="L742" title="All 4 branches missed.">        while ( ( strict ? parser.nextTag() : nextTag( parser ) ) == XmlPullParser.START_TAG )</span>
        {
<span class="nc bnc" id="L744" title="All 2 branches missed.">            if ( checkFieldWithDuplicate( parser, &quot;name&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L746">                activationOS.setName( interpolatedTrimmed( parser.nextText(), &quot;name&quot; ) );</span>
            }
<span class="nc bnc" id="L748" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;family&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L750">                activationOS.setFamily( interpolatedTrimmed( parser.nextText(), &quot;family&quot; ) );</span>
            }
<span class="nc bnc" id="L752" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;arch&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L754">                activationOS.setArch( interpolatedTrimmed( parser.nextText(), &quot;arch&quot; ) );</span>
            }
<span class="nc bnc" id="L756" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;version&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L758">                activationOS.setVersion( interpolatedTrimmed( parser.nextText(), &quot;version&quot; ) );</span>
            }
            else
            {
<span class="nc" id="L762">                checkUnknownElement( parser, strict );</span>
            }
        }
<span class="nc" id="L765">        return activationOS;</span>
    } //-- ActivationOS parseActivationOS( XmlPullParser, boolean )

    /**
     * Method parseActivationProperty.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return ActivationProperty
     */
    private ActivationProperty parseActivationProperty( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L780">        String tagName = parser.getName();</span>
<span class="nc" id="L781">        ActivationProperty activationProperty = new ActivationProperty();</span>
<span class="nc bnc" id="L782" title="All 2 branches missed.">        for ( int i = parser.getAttributeCount() - 1; i &gt;= 0; i-- )</span>
        {
<span class="nc" id="L784">            String name = parser.getAttributeName( i );</span>
<span class="nc" id="L785">            String value = parser.getAttributeValue( i );</span>

<span class="nc bnc" id="L787" title="All 2 branches missed.">            if ( name.indexOf( ':' ) &gt;= 0 )</span>
            {
                // just ignore attributes with non-default namespace (for example: xmlns:xsi)
            }
            else
            {
<span class="nc" id="L793">                checkUnknownAttribute( parser, name, tagName, strict );</span>
            }
        }
<span class="nc" id="L796">        java.util.Set parsed = new java.util.HashSet();</span>
<span class="nc bnc" id="L797" title="All 4 branches missed.">        while ( ( strict ? parser.nextTag() : nextTag( parser ) ) == XmlPullParser.START_TAG )</span>
        {
<span class="nc bnc" id="L799" title="All 2 branches missed.">            if ( checkFieldWithDuplicate( parser, &quot;name&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L801">                activationProperty.setName( interpolatedTrimmed( parser.nextText(), &quot;name&quot; ) );</span>
            }
<span class="nc bnc" id="L803" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;value&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L805">                activationProperty.setValue( interpolatedTrimmed( parser.nextText(), &quot;value&quot; ) );</span>
            }
            else
            {
<span class="nc" id="L809">                checkUnknownElement( parser, strict );</span>
            }
        }
<span class="nc" id="L812">        return activationProperty;</span>
    } //-- ActivationProperty parseActivationProperty( XmlPullParser, boolean )

    /**
     * Method parseProfile.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return Profile
     */
    private Profile parseProfile( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L827">        String tagName = parser.getName();</span>
<span class="nc" id="L828">        Profile profile = new Profile();</span>
<span class="nc bnc" id="L829" title="All 2 branches missed.">        for ( int i = parser.getAttributeCount() - 1; i &gt;= 0; i-- )</span>
        {
<span class="nc" id="L831">            String name = parser.getAttributeName( i );</span>
<span class="nc" id="L832">            String value = parser.getAttributeValue( i );</span>

<span class="nc bnc" id="L834" title="All 2 branches missed.">            if ( name.indexOf( ':' ) &gt;= 0 )</span>
            {
                // just ignore attributes with non-default namespace (for example: xmlns:xsi)
            }
            else
            {
<span class="nc" id="L840">                checkUnknownAttribute( parser, name, tagName, strict );</span>
            }
        }
<span class="nc" id="L843">        java.util.Set parsed = new java.util.HashSet();</span>
<span class="nc bnc" id="L844" title="All 4 branches missed.">        while ( ( strict ? parser.nextTag() : nextTag( parser ) ) == XmlPullParser.START_TAG )</span>
        {
<span class="nc bnc" id="L846" title="All 2 branches missed.">            if ( checkFieldWithDuplicate( parser, &quot;id&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L848">                profile.setId( interpolatedTrimmed( parser.nextText(), &quot;id&quot; ) );</span>
            }
<span class="nc bnc" id="L850" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;activation&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L852">                profile.setActivation( parseActivation( parser, strict ) );</span>
            }
<span class="nc bnc" id="L854" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;properties&quot;, null, parsed ) )</span>
            {
<span class="nc bnc" id="L856" title="All 2 branches missed.">                while ( parser.nextTag() == XmlPullParser.START_TAG )</span>
                {
<span class="nc" id="L858">                    String key = parser.getName();</span>
<span class="nc" id="L859">                    String value = parser.nextText().trim();</span>
<span class="nc" id="L860">                    profile.addProperty( key, value );</span>
<span class="nc" id="L861">                }</span>
            }
<span class="nc bnc" id="L863" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;repositories&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L865">                java.util.List&lt;Repository&gt; repositories = new java.util.ArrayList&lt;Repository&gt;();</span>
<span class="nc" id="L866">                profile.setRepositories( repositories );</span>
<span class="nc bnc" id="L867" title="All 2 branches missed.">                while ( parser.nextTag() == XmlPullParser.START_TAG )</span>
                {
<span class="nc bnc" id="L869" title="All 2 branches missed.">                    if ( &quot;repository&quot;.equals( parser.getName() ) )</span>
                    {
<span class="nc" id="L871">                        repositories.add( parseRepository( parser, strict ) );</span>
                    }
                    else
                    {
<span class="nc" id="L875">                        checkUnknownElement( parser, strict );</span>
                    }
                }
<span class="nc" id="L878">            }</span>
<span class="nc bnc" id="L879" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;pluginRepositories&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L881">                java.util.List&lt;Repository&gt; pluginRepositories = new java.util.ArrayList&lt;Repository&gt;();</span>
<span class="nc" id="L882">                profile.setPluginRepositories( pluginRepositories );</span>
<span class="nc bnc" id="L883" title="All 2 branches missed.">                while ( parser.nextTag() == XmlPullParser.START_TAG )</span>
                {
<span class="nc bnc" id="L885" title="All 2 branches missed.">                    if ( &quot;pluginRepository&quot;.equals( parser.getName() ) )</span>
                    {
<span class="nc" id="L887">                        pluginRepositories.add( parseRepository( parser, strict ) );</span>
                    }
                    else
                    {
<span class="nc" id="L891">                        checkUnknownElement( parser, strict );</span>
                    }
                }
<span class="nc" id="L894">            }</span>
            else
            {
<span class="nc" id="L897">                checkUnknownElement( parser, strict );</span>
            }
        }
<span class="nc" id="L900">        return profile;</span>
    } //-- Profile parseProfile( XmlPullParser, boolean )

    /**
     * Method parseProfilesRoot.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return ProfilesRoot
     */
    private ProfilesRoot parseProfilesRoot( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L915">        String tagName = parser.getName();</span>
<span class="nc" id="L916">        ProfilesRoot profilesRoot = new ProfilesRoot();</span>
<span class="nc bnc" id="L917" title="All 2 branches missed.">        for ( int i = parser.getAttributeCount() - 1; i &gt;= 0; i-- )</span>
        {
<span class="nc" id="L919">            String name = parser.getAttributeName( i );</span>
<span class="nc" id="L920">            String value = parser.getAttributeValue( i );</span>

<span class="nc bnc" id="L922" title="All 2 branches missed.">            if ( name.indexOf( ':' ) &gt;= 0 )</span>
            {
                // just ignore attributes with non-default namespace (for example: xmlns:xsi)
            }
<span class="nc bnc" id="L926" title="All 2 branches missed.">            else if ( &quot;xmlns&quot;.equals( name ) )</span>
            {
                // ignore xmlns attribute in root class, which is a reserved attribute name
            }
            else
            {
<span class="nc" id="L932">                checkUnknownAttribute( parser, name, tagName, strict );</span>
            }
        }
<span class="nc" id="L935">        java.util.Set parsed = new java.util.HashSet();</span>
<span class="nc bnc" id="L936" title="All 4 branches missed.">        while ( ( strict ? parser.nextTag() : nextTag( parser ) ) == XmlPullParser.START_TAG )</span>
        {
<span class="nc bnc" id="L938" title="All 2 branches missed.">            if ( checkFieldWithDuplicate( parser, &quot;profiles&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L940">                java.util.List&lt;Profile&gt; profiles = new java.util.ArrayList&lt;Profile&gt;();</span>
<span class="nc" id="L941">                profilesRoot.setProfiles( profiles );</span>
<span class="nc bnc" id="L942" title="All 2 branches missed.">                while ( parser.nextTag() == XmlPullParser.START_TAG )</span>
                {
<span class="nc bnc" id="L944" title="All 2 branches missed.">                    if ( &quot;profile&quot;.equals( parser.getName() ) )</span>
                    {
<span class="nc" id="L946">                        profiles.add( parseProfile( parser, strict ) );</span>
                    }
                    else
                    {
<span class="nc" id="L950">                        checkUnknownElement( parser, strict );</span>
                    }
                }
<span class="nc" id="L953">            }</span>
<span class="nc bnc" id="L954" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;activeProfiles&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L956">                java.util.List&lt;String&gt; activeProfiles = new java.util.ArrayList&lt;String&gt;();</span>
<span class="nc" id="L957">                profilesRoot.setActiveProfiles( activeProfiles );</span>
<span class="nc bnc" id="L958" title="All 2 branches missed.">                while ( parser.nextTag() == XmlPullParser.START_TAG )</span>
                {
<span class="nc bnc" id="L960" title="All 2 branches missed.">                    if ( &quot;activeProfile&quot;.equals( parser.getName() ) )</span>
                    {
<span class="nc" id="L962">                        activeProfiles.add( interpolatedTrimmed( parser.nextText(), &quot;activeProfiles&quot; ) );</span>
                    }
                    else
                    {
<span class="nc" id="L966">                        checkUnknownElement( parser, strict );</span>
                    }
                }
<span class="nc" id="L969">            }</span>
            else
            {
<span class="nc" id="L972">                checkUnknownElement( parser, strict );</span>
            }
        }
<span class="nc" id="L975">        return profilesRoot;</span>
    } //-- ProfilesRoot parseProfilesRoot( XmlPullParser, boolean )

    /**
     * Method parseRepository.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return Repository
     */
    private Repository parseRepository( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L990">        String tagName = parser.getName();</span>
<span class="nc" id="L991">        Repository repository = new Repository();</span>
<span class="nc bnc" id="L992" title="All 2 branches missed.">        for ( int i = parser.getAttributeCount() - 1; i &gt;= 0; i-- )</span>
        {
<span class="nc" id="L994">            String name = parser.getAttributeName( i );</span>
<span class="nc" id="L995">            String value = parser.getAttributeValue( i );</span>

<span class="nc bnc" id="L997" title="All 2 branches missed.">            if ( name.indexOf( ':' ) &gt;= 0 )</span>
            {
                // just ignore attributes with non-default namespace (for example: xmlns:xsi)
            }
            else
            {
<span class="nc" id="L1003">                checkUnknownAttribute( parser, name, tagName, strict );</span>
            }
        }
<span class="nc" id="L1006">        java.util.Set parsed = new java.util.HashSet();</span>
<span class="nc bnc" id="L1007" title="All 4 branches missed.">        while ( ( strict ? parser.nextTag() : nextTag( parser ) ) == XmlPullParser.START_TAG )</span>
        {
<span class="nc bnc" id="L1009" title="All 2 branches missed.">            if ( checkFieldWithDuplicate( parser, &quot;releases&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1011">                repository.setReleases( parseRepositoryPolicy( parser, strict ) );</span>
            }
<span class="nc bnc" id="L1013" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;snapshots&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1015">                repository.setSnapshots( parseRepositoryPolicy( parser, strict ) );</span>
            }
<span class="nc bnc" id="L1017" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;id&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1019">                repository.setId( interpolatedTrimmed( parser.nextText(), &quot;id&quot; ) );</span>
            }
<span class="nc bnc" id="L1021" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;name&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1023">                repository.setName( interpolatedTrimmed( parser.nextText(), &quot;name&quot; ) );</span>
            }
<span class="nc bnc" id="L1025" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;url&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1027">                repository.setUrl( interpolatedTrimmed( parser.nextText(), &quot;url&quot; ) );</span>
            }
<span class="nc bnc" id="L1029" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;layout&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1031">                repository.setLayout( interpolatedTrimmed( parser.nextText(), &quot;layout&quot; ) );</span>
            }
            else
            {
<span class="nc" id="L1035">                checkUnknownElement( parser, strict );</span>
            }
        }
<span class="nc" id="L1038">        return repository;</span>
    } //-- Repository parseRepository( XmlPullParser, boolean )

    /**
     * Method parseRepositoryBase.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return RepositoryBase
     */
    private RepositoryBase parseRepositoryBase( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L1053">        String tagName = parser.getName();</span>
<span class="nc" id="L1054">        RepositoryBase repositoryBase = new RepositoryBase();</span>
<span class="nc bnc" id="L1055" title="All 2 branches missed.">        for ( int i = parser.getAttributeCount() - 1; i &gt;= 0; i-- )</span>
        {
<span class="nc" id="L1057">            String name = parser.getAttributeName( i );</span>
<span class="nc" id="L1058">            String value = parser.getAttributeValue( i );</span>

<span class="nc bnc" id="L1060" title="All 2 branches missed.">            if ( name.indexOf( ':' ) &gt;= 0 )</span>
            {
                // just ignore attributes with non-default namespace (for example: xmlns:xsi)
            }
            else
            {
<span class="nc" id="L1066">                checkUnknownAttribute( parser, name, tagName, strict );</span>
            }
        }
<span class="nc" id="L1069">        java.util.Set parsed = new java.util.HashSet();</span>
<span class="nc bnc" id="L1070" title="All 4 branches missed.">        while ( ( strict ? parser.nextTag() : nextTag( parser ) ) == XmlPullParser.START_TAG )</span>
        {
<span class="nc bnc" id="L1072" title="All 2 branches missed.">            if ( checkFieldWithDuplicate( parser, &quot;id&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1074">                repositoryBase.setId( interpolatedTrimmed( parser.nextText(), &quot;id&quot; ) );</span>
            }
<span class="nc bnc" id="L1076" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;name&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1078">                repositoryBase.setName( interpolatedTrimmed( parser.nextText(), &quot;name&quot; ) );</span>
            }
<span class="nc bnc" id="L1080" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;url&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1082">                repositoryBase.setUrl( interpolatedTrimmed( parser.nextText(), &quot;url&quot; ) );</span>
            }
<span class="nc bnc" id="L1084" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;layout&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1086">                repositoryBase.setLayout( interpolatedTrimmed( parser.nextText(), &quot;layout&quot; ) );</span>
            }
            else
            {
<span class="nc" id="L1090">                checkUnknownElement( parser, strict );</span>
            }
        }
<span class="nc" id="L1093">        return repositoryBase;</span>
    } //-- RepositoryBase parseRepositoryBase( XmlPullParser, boolean )

    /**
     * Method parseRepositoryPolicy.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return RepositoryPolicy
     */
    private RepositoryPolicy parseRepositoryPolicy( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L1108">        String tagName = parser.getName();</span>
<span class="nc" id="L1109">        RepositoryPolicy repositoryPolicy = new RepositoryPolicy();</span>
<span class="nc bnc" id="L1110" title="All 2 branches missed.">        for ( int i = parser.getAttributeCount() - 1; i &gt;= 0; i-- )</span>
        {
<span class="nc" id="L1112">            String name = parser.getAttributeName( i );</span>
<span class="nc" id="L1113">            String value = parser.getAttributeValue( i );</span>

<span class="nc bnc" id="L1115" title="All 2 branches missed.">            if ( name.indexOf( ':' ) &gt;= 0 )</span>
            {
                // just ignore attributes with non-default namespace (for example: xmlns:xsi)
            }
            else
            {
<span class="nc" id="L1121">                checkUnknownAttribute( parser, name, tagName, strict );</span>
            }
        }
<span class="nc" id="L1124">        java.util.Set parsed = new java.util.HashSet();</span>
<span class="nc bnc" id="L1125" title="All 4 branches missed.">        while ( ( strict ? parser.nextTag() : nextTag( parser ) ) == XmlPullParser.START_TAG )</span>
        {
<span class="nc bnc" id="L1127" title="All 2 branches missed.">            if ( checkFieldWithDuplicate( parser, &quot;enabled&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1129">                repositoryPolicy.setEnabled( getBooleanValue( interpolatedTrimmed( parser.nextText(), &quot;enabled&quot; ), &quot;enabled&quot;, parser, &quot;true&quot; ) );</span>
            }
<span class="nc bnc" id="L1131" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;updatePolicy&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1133">                repositoryPolicy.setUpdatePolicy( interpolatedTrimmed( parser.nextText(), &quot;updatePolicy&quot; ) );</span>
            }
<span class="nc bnc" id="L1135" title="All 2 branches missed.">            else if ( checkFieldWithDuplicate( parser, &quot;checksumPolicy&quot;, null, parsed ) )</span>
            {
<span class="nc" id="L1137">                repositoryPolicy.setChecksumPolicy( interpolatedTrimmed( parser.nextText(), &quot;checksumPolicy&quot; ) );</span>
            }
            else
            {
<span class="nc" id="L1141">                checkUnknownElement( parser, strict );</span>
            }
        }
<span class="nc" id="L1144">        return repositoryPolicy;</span>
    } //-- RepositoryPolicy parseRepositoryPolicy( XmlPullParser, boolean )

    /**
     * Method read.
     * 
     * @param parser
     * @param strict
     * @throws IOException
     * @throws XmlPullParserException
     * @return ProfilesRoot
     */
    private ProfilesRoot read( XmlPullParser parser, boolean strict )
        throws IOException, XmlPullParserException
    {
<span class="nc" id="L1159">        ProfilesRoot profilesRoot = null;</span>
<span class="nc" id="L1160">        int eventType = parser.getEventType();</span>
<span class="nc" id="L1161">        boolean parsed = false;</span>
<span class="nc bnc" id="L1162" title="All 2 branches missed.">        while ( eventType != XmlPullParser.END_DOCUMENT )</span>
        {
<span class="nc bnc" id="L1164" title="All 2 branches missed.">            if ( eventType == XmlPullParser.START_TAG )</span>
            {
<span class="nc bnc" id="L1166" title="All 4 branches missed.">                if ( strict &amp;&amp; ! &quot;profilesXml&quot;.equals( parser.getName() ) )</span>
                {
<span class="nc" id="L1168">                    throw new XmlPullParserException( &quot;Expected root element 'profilesXml' but found '&quot; + parser.getName() + &quot;'&quot;, parser, null );</span>
                }
<span class="nc bnc" id="L1170" title="All 2 branches missed.">                else if ( parsed )</span>
                {
                    // fallback, already expected a XmlPullParserException due to invalid XML
<span class="nc" id="L1173">                    throw new XmlPullParserException( &quot;Duplicated tag: 'profilesXml'&quot;, parser, null );</span>
                }
<span class="nc" id="L1175">                profilesRoot = parseProfilesRoot( parser, strict );</span>
<span class="nc" id="L1176">                profilesRoot.setModelEncoding( parser.getInputEncoding() );</span>
<span class="nc" id="L1177">                parsed = true;</span>
            }
<span class="nc" id="L1179">            eventType = parser.next();</span>
        }
<span class="nc bnc" id="L1181" title="All 2 branches missed.">        if ( parsed )</span>
        {
<span class="nc" id="L1183">            return profilesRoot;</span>
        }
<span class="nc" id="L1185">        throw new XmlPullParserException( &quot;Expected root element 'profilesXml' but found no element at all: invalid XML document&quot;, parser, null );</span>
    } //-- ProfilesRoot read( XmlPullParser, boolean )

    /**
     * Sets the state of the &quot;add default entities&quot; flag.
     * 
     * @param addDefaultEntities
     */
    public void setAddDefaultEntities( boolean addDefaultEntities )
    {
<span class="nc" id="L1195">        this.addDefaultEntities = addDefaultEntities;</span>
<span class="nc" id="L1196">    } //-- void setAddDefaultEntities( boolean )</span>

    public static interface ContentTransformer
{
    /**
     * Interpolate the value read from the xpp3 document
     * @param source The source value
     * @param fieldName A description of the field being interpolated. The implementation may use this to
     *                           log stuff.
     * @return The interpolated value.
     */
    String transform( String source, String fieldName );
}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>