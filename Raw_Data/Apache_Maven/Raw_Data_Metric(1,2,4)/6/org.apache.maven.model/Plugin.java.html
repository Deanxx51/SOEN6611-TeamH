<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Plugin.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Maven Model</a> &gt; <a href="index.source.html" class="el_package">org.apache.maven.model</a> &gt; <span class="el_source">Plugin.java</span></div><h1>Plugin.java</h1><pre class="source lang-java linenums">// =================== DO NOT EDIT THIS FILE ====================
// Generated by Modello 1.10.0,
// any modifications will be overwritten.
// ==============================================================

package org.apache.maven.model;

/**
 * 
 *         
 *         The &lt;code&gt;&amp;lt;plugin&amp;gt;&lt;/code&gt; element contains
 * informations required for a plugin.
 *         
 *       
 * 
 * @version $Revision$ $Date$
 */
@SuppressWarnings( &quot;all&quot; )
<span class="fc" id="L19">public class Plugin</span>
    extends ConfigurationContainer
    implements java.io.Serializable, java.lang.Cloneable
{

      //--------------------------/
     //- Class/Member Variables -/
    //--------------------------/

    /**
     * The group ID of the plugin in the repository.
     */
<span class="fc" id="L31">    private String groupId = &quot;org.apache.maven.plugins&quot;;</span>

    /**
     * The artifact ID of the plugin in the repository.
     */
    private String artifactId;

    /**
     * The version (or valid range of versions) of the plugin to be
     * used.
     */
    private String version;

    /**
     * 
     *             
     *             Whether to load Maven extensions (such as
     * packaging and type handlers) from
     *             this plugin. For performance reasons, this
     * should only be enabled when necessary. Note: While the type
     *             of this field is &lt;code&gt;String&lt;/code&gt; for
     * technical reasons, the semantic type is actually
     *             &lt;code&gt;Boolean&lt;/code&gt;. Default value is
     * &lt;code&gt;false&lt;/code&gt;.
     *             
     *           
     */
    private String extensions;

    /**
     * Field executions.
     */
    private java.util.List&lt;PluginExecution&gt; executions;

    /**
     * Field dependencies.
     */
    private java.util.List&lt;Dependency&gt; dependencies;

    /**
     * 
     *             
     *             &lt;b&gt;Deprecated&lt;/b&gt;. Unused by Maven.
     *             
     *           
     */
    private Object goals;


      //-----------/
     //- Methods -/
    //-----------/

    /**
     * Method addDependency.
     * 
     * @param dependency
     */
    public void addDependency( Dependency dependency )
    {
<span class="nc" id="L91">        getDependencies().add( dependency );</span>
<span class="nc" id="L92">    } //-- void addDependency( Dependency )</span>

    /**
     * Method addExecution.
     * 
     * @param pluginExecution
     */
    public void addExecution( PluginExecution pluginExecution )
    {
<span class="nc" id="L101">        getExecutions().add( pluginExecution );</span>
<span class="nc" id="L102">    } //-- void addExecution( PluginExecution )</span>

    /**
     * Method clone.
     * 
     * @return Plugin
     */
    public Plugin clone()
    {
        try
        {
<span class="nc" id="L113">            Plugin copy = (Plugin) super.clone();</span>

<span class="nc bnc" id="L115" title="All 2 branches missed.">            if ( this.executions != null )</span>
            {
<span class="nc" id="L117">                copy.executions = new java.util.ArrayList&lt;PluginExecution&gt;();</span>
<span class="nc bnc" id="L118" title="All 2 branches missed.">                for ( PluginExecution item : this.executions )</span>
                {
<span class="nc" id="L120">                    copy.executions.add( ( (PluginExecution) item).clone() );</span>
<span class="nc" id="L121">                }</span>
            }

<span class="nc bnc" id="L124" title="All 2 branches missed.">            if ( this.dependencies != null )</span>
            {
<span class="nc" id="L126">                copy.dependencies = new java.util.ArrayList&lt;Dependency&gt;();</span>
<span class="nc bnc" id="L127" title="All 2 branches missed.">                for ( Dependency item : this.dependencies )</span>
                {
<span class="nc" id="L129">                    copy.dependencies.add( ( (Dependency) item).clone() );</span>
<span class="nc" id="L130">                }</span>
            }

<span class="nc bnc" id="L133" title="All 2 branches missed.">            if ( this.goals != null )</span>
            {
<span class="nc" id="L135">                copy.goals = new org.codehaus.plexus.util.xml.Xpp3Dom( (org.codehaus.plexus.util.xml.Xpp3Dom) this.goals );</span>
            }

<span class="nc" id="L138">            return copy;</span>
        }
<span class="nc" id="L140">        catch ( java.lang.Exception ex )</span>
        {
<span class="nc" id="L142">            throw (java.lang.RuntimeException) new java.lang.UnsupportedOperationException( getClass().getName()</span>
<span class="nc" id="L143">                + &quot; does not support clone()&quot; ).initCause( ex );</span>
        }
    } //-- Plugin clone()

    /**
     * Get the artifact ID of the plugin in the repository.
     * 
     * @return String
     */
    public String getArtifactId()
    {
<span class="nc" id="L154">        return this.artifactId;</span>
    } //-- String getArtifactId()

    /**
     * Method getDependencies.
     * 
     * @return List
     */
    public java.util.List&lt;Dependency&gt; getDependencies()
    {
<span class="nc bnc" id="L164" title="All 2 branches missed.">        if ( this.dependencies == null )</span>
        {
<span class="nc" id="L166">            this.dependencies = new java.util.ArrayList&lt;Dependency&gt;();</span>
        }

<span class="nc" id="L169">        return this.dependencies;</span>
    } //-- java.util.List&lt;Dependency&gt; getDependencies()

    /**
     * Method getExecutions.
     * 
     * @return List
     */
    public java.util.List&lt;PluginExecution&gt; getExecutions()
    {
<span class="nc bnc" id="L179" title="All 2 branches missed.">        if ( this.executions == null )</span>
        {
<span class="nc" id="L181">            this.executions = new java.util.ArrayList&lt;PluginExecution&gt;();</span>
        }

<span class="nc" id="L184">        return this.executions;</span>
    } //-- java.util.List&lt;PluginExecution&gt; getExecutions()

    /**
     * Get whether to load Maven extensions (such as packaging and
     * type handlers) from
     *             this plugin. For performance reasons, this
     * should only be enabled when necessary. Note: While the type
     *             of this field is &lt;code&gt;String&lt;/code&gt; for
     * technical reasons, the semantic type is actually
     *             &lt;code&gt;Boolean&lt;/code&gt;. Default value is
     * &lt;code&gt;false&lt;/code&gt;.
     * 
     * @return String
     */
    public String getExtensions()
    {
<span class="nc" id="L201">        return this.extensions;</span>
    } //-- String getExtensions()

    /**
     * Get &lt;b&gt;Deprecated&lt;/b&gt;. Unused by Maven.
     * 
     * @return Object
     */
    public Object getGoals()
    {
<span class="nc" id="L211">        return this.goals;</span>
    } //-- Object getGoals()

    /**
     * Get the group ID of the plugin in the repository.
     * 
     * @return String
     */
    public String getGroupId()
    {
<span class="nc" id="L221">        return this.groupId;</span>
    } //-- String getGroupId()

    /**
     * Get the version (or valid range of versions) of the plugin
     * to be used.
     * 
     * @return String
     */
    public String getVersion()
    {
<span class="nc" id="L232">        return this.version;</span>
    } //-- String getVersion()

    /**
     * Method removeDependency.
     * 
     * @param dependency
     */
    public void removeDependency( Dependency dependency )
    {
<span class="nc" id="L242">        getDependencies().remove( dependency );</span>
<span class="nc" id="L243">    } //-- void removeDependency( Dependency )</span>

    /**
     * Method removeExecution.
     * 
     * @param pluginExecution
     */
    public void removeExecution( PluginExecution pluginExecution )
    {
<span class="nc" id="L252">        getExecutions().remove( pluginExecution );</span>
<span class="nc" id="L253">    } //-- void removeExecution( PluginExecution )</span>

    /**
     * Set the artifact ID of the plugin in the repository.
     * 
     * @param artifactId
     */
    public void setArtifactId( String artifactId )
    {
<span class="nc" id="L262">        this.artifactId = artifactId;</span>
<span class="nc" id="L263">    } //-- void setArtifactId( String )</span>

    /**
     * Set additional dependencies that this project needs to
     * introduce to the plugin's
     *             classloader.
     * 
     * @param dependencies
     */
    public void setDependencies( java.util.List&lt;Dependency&gt; dependencies )
    {
<span class="nc" id="L274">        this.dependencies = dependencies;</span>
<span class="nc" id="L275">    } //-- void setDependencies( java.util.List )</span>

    /**
     * Set multiple specifications of a set of goals to execute
     * during the build
     *             lifecycle, each having (possibly) a different
     * configuration.
     * 
     * @param executions
     */
    public void setExecutions( java.util.List&lt;PluginExecution&gt; executions )
    {
<span class="nc" id="L287">        this.executions = executions;</span>
<span class="nc" id="L288">    } //-- void setExecutions( java.util.List )</span>

    /**
     * Set whether to load Maven extensions (such as packaging and
     * type handlers) from
     *             this plugin. For performance reasons, this
     * should only be enabled when necessary. Note: While the type
     *             of this field is &lt;code&gt;String&lt;/code&gt; for
     * technical reasons, the semantic type is actually
     *             &lt;code&gt;Boolean&lt;/code&gt;. Default value is
     * &lt;code&gt;false&lt;/code&gt;.
     * 
     * @param extensions
     */
    public void setExtensions( String extensions )
    {
<span class="nc" id="L304">        this.extensions = extensions;</span>
<span class="nc" id="L305">    } //-- void setExtensions( String )</span>

    /**
     * Set &lt;b&gt;Deprecated&lt;/b&gt;. Unused by Maven.
     * 
     * @param goals
     */
    public void setGoals( Object goals )
    {
<span class="nc" id="L314">        this.goals = goals;</span>
<span class="nc" id="L315">    } //-- void setGoals( Object )</span>

    /**
     * Set the group ID of the plugin in the repository.
     * 
     * @param groupId
     */
    public void setGroupId( String groupId )
    {
<span class="nc" id="L324">        this.groupId = groupId;</span>
<span class="nc" id="L325">    } //-- void setGroupId( String )</span>

    /**
     * Set the version (or valid range of versions) of the plugin
     * to be used.
     * 
     * @param version
     */
    public void setVersion( String version )
    {
<span class="nc" id="L335">        this.version = version;</span>
<span class="nc" id="L336">    } //-- void setVersion( String )</span>

    
            
    public boolean isExtensions()
    {
<span class="nc bnc" id="L342" title="All 2 branches missed.">        return ( extensions != null ) ? Boolean.parseBoolean( extensions ) : false;</span>
    }

    public void setExtensions( boolean extensions )
    {
<span class="nc" id="L347">        this.extensions = String.valueOf( extensions );</span>
<span class="nc" id="L348">    }</span>

<span class="fc" id="L350">    private java.util.Map&lt;String, PluginExecution&gt; executionMap = null;</span>

    /**
     * Reset the &lt;code&gt;executionMap&lt;/code&gt; field to &lt;code&gt;null&lt;/code&gt;
     */
    public void flushExecutionMap()
    {
<span class="nc" id="L357">        this.executionMap = null;</span>
<span class="nc" id="L358">    }</span>

    /**
     * @return a Map of executions field with &lt;code&gt;PluginExecution#getId()&lt;/code&gt; as key
     * @see org.apache.maven.model.PluginExecution#getId()
     */
    public java.util.Map&lt;String, PluginExecution&gt; getExecutionsAsMap()
    {
<span class="nc bnc" id="L366" title="All 2 branches missed.">        if ( executionMap == null )</span>
        {
<span class="nc" id="L368">            executionMap = new java.util.LinkedHashMap&lt;String, PluginExecution&gt;();</span>
<span class="nc bnc" id="L369" title="All 2 branches missed.">            if ( getExecutions() != null )</span>
            {
<span class="nc bnc" id="L371" title="All 2 branches missed.">                for ( java.util.Iterator&lt;PluginExecution&gt; i = getExecutions().iterator(); i.hasNext(); )</span>
                {
<span class="nc" id="L373">                    PluginExecution exec = (PluginExecution) i.next();</span>

<span class="nc bnc" id="L375" title="All 2 branches missed.">                    if ( executionMap.containsKey( exec.getId() ) )</span>
                    {
<span class="nc" id="L377">                        throw new IllegalStateException( &quot;You cannot have two plugin executions with the same (or missing) &lt;id/&gt; elements.\nOffending execution\n\nId: \'&quot; + exec.getId() + &quot;\'\nPlugin:\'&quot; + getKey() + &quot;\'\n\n&quot; );</span>
                    }

<span class="nc" id="L380">                    executionMap.put( exec.getId(), exec );</span>
<span class="nc" id="L381">                }</span>
            }
        }

<span class="nc" id="L385">        return executionMap;</span>
    }

    /**
     * Gets the identifier of the plugin.
     *
     * @return The plugin id in the form {@code &lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;}, never {@code null}.
     */
    public String getId()
    {
<span class="nc" id="L395">        StringBuilder id = new StringBuilder( 128 );</span>

<span class="nc bnc" id="L397" title="All 2 branches missed.">        id.append( ( getGroupId() == null ) ? &quot;[unknown-group-id]&quot; : getGroupId() );</span>
<span class="nc" id="L398">        id.append( &quot;:&quot; );</span>
<span class="nc bnc" id="L399" title="All 2 branches missed.">        id.append( ( getArtifactId() == null ) ? &quot;[unknown-artifact-id]&quot; : getArtifactId() );</span>
<span class="nc" id="L400">        id.append( &quot;:&quot; );</span>
<span class="nc bnc" id="L401" title="All 2 branches missed.">        id.append( ( getVersion() == null ) ? &quot;[unknown-version]&quot; : getVersion() );</span>

<span class="nc" id="L403">        return id.toString();</span>
    }

    //TODO we shall reset key variable when groupId/artifactId change
<span class="fc" id="L407">    private String key = null;</span>
    /**
     * @return the key of the plugin, ie &lt;code&gt;groupId:artifactId&lt;/code&gt;
     */
    public String getKey()
    {
<span class="fc bfc" id="L413" title="All 2 branches covered.">        if ( key == null )</span>
        {
<span class="fc" id="L415">            key = constructKey( groupId, artifactId );</span>
        }
<span class="fc" id="L417">        return key;</span>
    }

    /**
     * @param groupId The group ID of the plugin in the repository
     * @param artifactId The artifact ID of the reporting plugin in the repository
     * @return the key of the plugin, ie &lt;code&gt;groupId:artifactId&lt;/code&gt;
     */
    public static String constructKey( String groupId, String artifactId )
    {
<span class="fc" id="L427">        return groupId + &quot;:&quot; + artifactId;</span>
    }

    /**
     * @see java.lang.Object#equals(java.lang.Object)
     */
    public boolean equals( Object other )
    {
<span class="fc bfc" id="L435" title="All 2 branches covered.">        if ( other instanceof Plugin )</span>
        {
<span class="fc" id="L437">            Plugin otherPlugin = (Plugin) other;</span>

<span class="fc" id="L439">            return getKey().equals( otherPlugin.getKey() );</span>
        }

<span class="fc" id="L442">        return false;</span>
    }

    /**
     * @see java.lang.Object#hashCode()
     */
    public int hashCode()
    {
<span class="fc" id="L450">        return getKey().hashCode();</span>
    }

    /**
     * @see java.lang.Object#toString()
     */
    public String toString()
    {
<span class="fc" id="L458">        return &quot;Plugin [&quot; + getKey() + &quot;]&quot;;</span>
    }
            
          
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>